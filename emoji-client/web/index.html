<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Serwis Emotikon</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/cosmo/bootstrap.min.css"
          integrity="sha384-qdQEsAI45WFCO5QwXBelBe1rR9Nwiss4rGEqiszC+9olH1ScrLrMQr1KmDR964uZ" rel="stylesheet">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet">

    <script>
        $(window).on("load", function () {
            $("#header").load("header.html");
            $.get("index", function (responseJson) {
                $.each(responseJson, function (index, emoji) {
                    $("<tr>").appendTo($("#emojis-table"))
                        .append($("<td>").text(emoji.name))
                        .append($("<td>").text(emoji.description))
                        .append($("<td><img src=\"data:image/jpg;base64," + emoji.base64Image + "\" width=\"64\" height=\"64\"/></td>"))
                        .append($("<td><div class=\"dropdown\">" +
                            "<button class=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">" +
                            "Opcje" +
                            "</button>" +
                            "<div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">" +
                            "<a class=\"dropdown-item\" href='delete?id=" + emoji.id + "'><i class=\"fa fa-trash\"></i> Usu≈Ñ</a>" +
                            "<a class=\"dropdown-item\" href='edit.html?id=" + emoji.id + "'><i class=\"fa fa-edit\"></i> Modyfikuj</a>" +
                            "<a class=\"dropdown-item\" href='download?id=" + emoji.id + "'><i class=\"fa fa-download\"></i> Pobierz</a>" +
                            "</div>" +
                            "</div>"));
                });
            });
        });
    </script>
</head>
<body>
<div id="header"></div>

<div class="table-responsive-lg">
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col" style="width: 25%">Nazwa</th>
            <th scope="col" style="width: 50%">Opis</th>
            <th scope="col">Ikona</th>
            <th></th>
        </tr>
        </thead>
        <tbody id="emojis-table">
        </tbody>
    </table>
</div>
</body>
</html>
