<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Dodaj emotikonę</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm"
            src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/cosmo/bootstrap.min.css"
          integrity="sha384-qdQEsAI45WFCO5QwXBelBe1rR9Nwiss4rGEqiszC+9olH1ScrLrMQr1KmDR964uZ" rel="stylesheet">
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" rel="stylesheet">

    <script>
        $(window).on("load", function () {
            $("#header").load("header.html");
        });
    </script>
</head>
<body>
<div id="header"></div>

<div class="container mt-5">
    <form action="/upload" enctype="multipart/form-data" method="post">
        <label for="nameInput">Nazwa</label>
        <input class="form-control mb-4" id="nameInput" maxlength="128" name="name" onkeyup="success()" type="text">
        <label for="descriptionTextArea">Opis</label>
        <textarea class="form-control rounded-0 mb-4" id="descriptionTextArea" maxlength="1024" name="description"
                  onkeyup="success()" rows="4"></textarea>
        <div class="input-group mb-4">
            <div class="input-group-prepend">
                <span class="input-group-text" id="inputGroupFileAddon01">Ikona</span>
            </div>
            <div class="custom-file">
                <input accept="image/*" aria-describedby="inputGroupFileAddon01" class="custom-file-input"
                       id="inputGroupFile01" name="icon" onchange="success()" type="file">
                <label class="custom-file-label" for="inputGroupFile01">Wybierz ikonkę</label>
            </div>
        </div>
        <button class="btn btn-primary" disabled id="submit" type="submit">Dodaj</button>
    </form>
</div>

<script type="text/javascript">
    function success() {
        document.getElementById('submit').disabled = document.getElementById('nameInput').value === '' || document.getElementById('descriptionTextArea').value === '' || document.getElementById('inputGroupFile01').value === '';
    }

    $('#inputGroupFile01').on('change', function () {
        const fileName = $(this).val();
        $(this).next('.custom-file-label').html(fileName);
    })
</script>
</body>
</html>
